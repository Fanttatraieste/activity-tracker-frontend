<div class="page-container">
  <app-sidebar></app-sidebar>

  <div class="content-wrapper">
    <app-header
      [groups]="groups"
      [selectedGroup]="selectedGroup"
      [selectedWeek]="selectedWeek"
      (groupChange)="selectGroup($event)"
      (weekChange)="selectWeek($event)"
      (filtersChange)="onFiltersChanged($event)">
    </app-header>

    <app-timetable-grid
      [selectedGroup]="selectedGroup"
      [selectedWeek]="selectedWeek"
      [activeFilters]="currentFilters"
      [currentDayIndex]="currentDayIndex"
      [currentLinePosition]="currentLinePosition"
      (eventClicked)="onEventSelected($event)">
    </app-timetable-grid>
  </div>

  <app-right-panel
    *ngIf="selectedEvent"
    [event]="selectedEvent"
    (closePanel)="closeNotes()">
  </app-right-panel>

</div>
